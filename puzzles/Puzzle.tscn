[gd_scene load_steps=11 format=2]

[ext_resource path="res://assets/night.jpg" type="Texture" id=1]
[ext_resource path="res://puzzles/Puzzle.gd" type="Script" id=2]

[sub_resource type="PanoramaSky" id=21]
radiance_size = 0
panorama = ExtResource( 1 )

[sub_resource type="Environment" id=32]
resource_local_to_scene = true
background_mode = 2
background_sky = SubResource( 21 )
background_sky_custom_fov = 90.0
background_energy = 0.5
fog_enabled = true
tonemap_mode = 3
auto_exposure_scale = 0.01
ss_reflections_enabled = true
ssao_radius = 39.0
ssao_intensity = 128.0
dof_blur_far_distance = 1.0
dof_blur_far_transition = 17.25
dof_blur_far_amount = 0.8
dof_blur_far_quality = 2
glow_enabled = true
glow_levels/1 = true
glow_levels/2 = true
glow_levels/5 = false
glow_intensity = 8.0
glow_strength = 2.0
adjustment_enabled = true

[sub_resource type="PlaneMesh" id=24]

[sub_resource type="VisualShaderNodeInput" id=25]
output_port_for_preview = 0
input_name = "screen_uv"

[sub_resource type="VisualShaderNodeScalarUniform" id=26]
uniform_name = "amount"

[sub_resource type="VisualShaderNodeTexture" id=27]
output_port_for_preview = 0
source = 1

[sub_resource type="VisualShader" id=30]
code = "shader_type spatial;
render_mode unshaded;

uniform float amount;



void vertex() {
// Output:0

}

void fragment() {
// Input:2
	vec3 n_out2p0 = vec3(SCREEN_UV, 0.0);

// ScalarUniform:3
	float n_out3p0 = amount;

// Texture:4
	vec3 n_out4p0;
	float n_out4p1;
	{
		vec4 _tex_read = textureLod(SCREEN_TEXTURE, n_out2p0.xy, n_out3p0);
		n_out4p0 = _tex_read.rgb;
		n_out4p1 = _tex_read.a;
	}

// Output:0
	ALBEDO = n_out4p0;

}

void light() {
// Output:0

}
"
graph_offset = Vector2( -684, 146 )
flags/unshaded = true
nodes/fragment/0/position = Vector2( 360, 160 )
nodes/fragment/2/node = SubResource( 25 )
nodes/fragment/2/position = Vector2( -120, 140 )
nodes/fragment/3/node = SubResource( 26 )
nodes/fragment/3/position = Vector2( -100, 340 )
nodes/fragment/4/node = SubResource( 27 )
nodes/fragment/4/position = Vector2( 140, 160 )
nodes/fragment/connections = PoolIntArray( 2, 0, 4, 0, 3, 0, 4, 1, 4, 0, 0, 0 )

[sub_resource type="ShaderMaterial" id=31]
shader = SubResource( 30 )
shader_param/amount = 3.0

[node name="Puzzle" type="Spatial"]
pause_mode = 2
visible = false
script = ExtResource( 2 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 0.0999881, 0.000405424, 0.00149126, -0.00090966, 0.0934494, 0.0355863, -0.0012493, -0.0355956, 0.0934419, 0.0340944, 0.836554, 0.418175 )
environment = SubResource( 32 )
fov = 45.0
size = 3.5

[node name="BlurPlane" type="MeshInstance" parent="Camera"]
transform = Transform( 15.8175, -1.30385e-08, -5.28991e-07, -9.16421e-07, -0.37605, -9.08068, -1.3411e-07, 0.9266, -3.68529, -0.542581, 1.90657, -6.05417 )
cast_shadow = 0
mesh = SubResource( 24 )
material/0 = SubResource( 31 )
[connection signal="visibility_changed" from="." to="." method="_on_Puzzle_visibility_changed"]
